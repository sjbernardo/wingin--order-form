<h1>Order Summary</h1>
<div id="orderSummary">
    <!-- Order details will be displayed here -->
</div>

<div class="btn">
    <button onclick="addOrder()">Add Order</button>
    <button onclick="checkout()">Checkout</button>
</div>



<script>
    document.addEventListener('DOMContentLoaded', function () {
        const orderHistory = JSON.parse(sessionStorage.getItem('orderHistory'));
        const summaryDiv = document.getElementById('orderSummary');

        if (orderHistory && orderHistory.length > 0) {
            let summaryHtml = "<ul>";
            let totalAmount = 0; // Variable to store total amount for all orders

            orderHistory.forEach((order, index) => {
                const subtotal = order.price || 0; // Assuming each order has a price field
                totalAmount += subtotal; // Add each order's subtotal to total

                summaryHtml += `
                    <li><strong>Order ${index + 1}:</strong></li>
                    <p>Wings: ${order.wings}</p>
                    <p>Drinks: ${order.drinks}</p>
                    <p>Extras: ${order.extras.join(', ')}</p>
                    <p><strong>Subtotal: $${subtotal.toFixed(2)}</strong></p> <!-- Display subtotal for this order -->
                `;
            });

            summaryHtml += `</ul>`;
            summaryHtml += `<p><strong>Total Amount for All Orders: $${totalAmount.toFixed(2)}</strong></p>`; // Display total for all orders
            summaryDiv.innerHTML = summaryHtml;
        }
    });

    function addOrder() {
        window.location.href = '/order-form/order-form.html'; // Go back to order form
    }

    function checkout() {
        const orderHistory = JSON.parse(sessionStorage.getItem('orderHistory'));
        const totalPrice = orderHistory.reduce((total, order) => total + order.price, 0);
        alert(`Proceeding to checkout. Total Price: $${totalPrice.toFixed(2)}`);    
    }
</script>
